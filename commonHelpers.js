import{S as $,i as u,a as k}from"./assets/vendor-da186403.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const I="42062449-cea48752956c1d9094f31db98",m=document.querySelector("form.search-form"),p=document.querySelector(".loader"),f=document.querySelector(".gallery"),y=document.querySelector(".load-more-div"),R=document.querySelector(".load-more-div button"),S=new $(".gallery .gallery-link",{captions:!0,captionsData:"alt",captionPosition:"bottom"}),d=15;let c,i=1;async function q(r){r.preventDefault(),f.innerHTML="",i=1,b(),w(),c=encodeURIComponent(r.target.elements["search-field"].value);try{const e=await g(c),o=e.data.total;if(o===0)n(),u.error({position:"topRight",title:"",message:"Sorry, there are no images matching your search query. Please, try again!"});else{n();const a=e.data.hits,t=v(a);h(t),m.reset(),o>d&&L()}}catch(e){console.log(e),n()}}m.addEventListener("submit",q);async function P(r){r.preventDefault(),b(),w();try{i+=1;const e=await g(c),o=e.data.total,a=Math.ceil(o/d);if(i>=a)return n(),u.error({position:"topRight",message:"We're sorry, but you've reached the end of search results."});{n(),L();const t=e.data.hits,s=v(t);h(s)}}catch(e){console.log(e)}}R.addEventListener("click",P);async function g(r){try{return await k.get(`https://pixabay.com/api/?key=${I}&q=${r}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${d}&page=${i}`)}catch(e){throw new Error(e)}}function h(r){const e=r.map(o=>`<li class="gallery-card"><a class="gallery-link" href="${o.href}"><img class="gallery-image" src="${o.src}" alt="${o.alt}" /><div class="image-stats-card"><div class="image-stats-block"><p>Likes</p>${o.likes}</div><div class="image-stats-block"><p>Views</p>${o.views}</div><div class="image-stats-block"><p>Comments</p>${o.comments}</div><div class="image-stats-block"><p>Downloads</p>${o.downloads}</div></div></a></li>`).join("");f.insertAdjacentHTML("beforeend",e),S.refresh()}function v(r){return r.map(e=>({href:e.largeImageURL,src:e.webformatURL,alt:e.tags,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads}))}function w(){p.style.display="block"}function n(){p.style.display="none"}function L(){y.style.display="flex"}function b(){y.style.display="none"}
//# sourceMappingURL=commonHelpers.js.map
